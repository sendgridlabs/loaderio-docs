<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <title>Loader.io Documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link href="../../../css/theme-d76bfc3a.css" media="screen" rel="stylesheet" type="text/css" />
        <script src="/js/marketing-04327b27.js"></script>
    </head>
    <body>
      <div class="main-site-header site-inner-content cf">
        <a href="https://loader.io"><img alt="Loader.io" class="logo" src="https://labs.sendgrid.com/wp-content/themes/sendgrid-labs/images/loader_logo.svg"></a>
        <div class="main-site-nav">
          <a class="" href="https://loader.io/pricing" id="plans-and-pricing">Plans &amp; Pricing</a>
          <a href="http://support.loader.io" target="_blank">Help</a>
          <a href="http://docs.loader.io/api/intro.html" target="_blank">API Docs</a>
          <a href="https://labs.sendgrid.com?utm_source=loader.io&utm_medium=product-page&utm_campaign=L3-LABS-11010&utm_content=L3-LABS-11010a" class="main-site-nav-link main-site-nav-link-outside">SendGrid Labs</a>
        </div>
        <div class="app-sign-in">
            <a class="button-sign-in" href="http://loaderio-web.dev:3000/signin">Sign in</a>
        </div>
        <div class="mobile-menu js-main-site-nav">
          <div class="hamburger"></div>Menu
        </div>
      </div>
      <header class="hero content-hero">
        <h1 class="entry-title">API Docs</h1>
      </header>
      <div class="row cf" id="content">
        <div class="col docs">
          <h1 id="post-v2tests"><code>POST /v2/tests</code></h1>

<p>Create a new test. Refer to the <a href="/tests/creating.html#from-scratc">test creation</a> page for details about each field.</p>

<h2 id="example-a-hrefexample-idexample-classmarka">Example <a href="#example" id="example" class="mark">#</a></h2>

<p>Before creating a test in the API, we have to <a href="/api/v2/post/apps.html">create</a> and <a href="/api/v2/post/apps/:app_id/verify.html">verify</a> an app using the API. Use the domain from the URL(s) you want to test as the app name and verify it before trying this example.</p>

<pre class="embedcurl" width="100%" title="">curl -X POST https://api.loader.io/v2/tests \
     -H 'loaderio-auth: API_KEY' \
     --data-binary '{"test_type":"cycling",
              "total": 6000,
              "duration":60,
              "urls": [
                {"url": "http://gonnacrushya.com"}
              ]}' \
     -H 'Content-Type: application/json'</pre>

<p>Example result  (<strong>successful test creation</strong>):</p>

<pre><code>{
    "message": "success",
    "result_id": "08627345e5aa0f89f95851a69a4cb0dc",
    "status": "running",
    "test_id": "f133e9e3691e405eefd3e1b7c351cb18"
}
</code></pre>

<h2 id="options-a-hreftest-options-idtest-options-classmarka">Options <a href="#test-options" id="test-options" class="mark">#</a></h2>

<p>An asterisk (*) indicates required fields.</p>

<table class="table">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Example/Values</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr class="required">
      <td><code>*test_type</code></td>
      <td>string</td>
      <td>none</td>
      <td>"cycling" or "non-cycling"</td>
      <td>Test type</td>
    </tr>
    <tr class="required">
      <td><code>*urls</code></td>
      <td>Array</td>
      <td>none</td>
      <td>(see <a href="#url-options">url options</a>)</td>
      <td>URLs to test</td>
    </tr>
    <tr class="required">
      <td><code>*duration</code></td>
      <td>number</td>
      <td>none</td>
      <td><code>60</code></td>
      <td>Duration of test, in seconds</td>
    </tr>
    <tr class="required">
      <td><code>*initial</code></td>
      <td>number</td>
      <td></td>
      <td><code>0</code></td>
      <td>Number of connections to start with (ignored for non-cycling tests)</td>
    </tr>
    <tr class="required">
      <td><code>*total</code></td>
      <td>number</td>
      <td></td>
      <td><code>60</code></td>
      <td>Number of connections to end with, or total number of connections for non-cycling tests</td>
    </tr>
    <tr>
      <td><code>timeout</code></td>
      <td>number</td>
      <td>10000</td>
      <td><code>10000</code></td>
      <td>Timeout value, in milliseconds</td>
    </tr>
    <tr>
      <td><code>error_threshold</code></td>
      <td>number</td>
      <td>50</td>
      <td><code>50</code></td>
      <td>Error percentage threshold</td>
    </tr>
    <tr>
      <td><code>callback</code></td>
      <td>URL</td>
      <td></td>
      <td><code>http://gcrshya.com/loader</code></td>
      <td>A URL to POST results to when the test finishes</td>
    </tr>
    <tr>
      <td><code>callback_email</code></td>
      <td>email address</td>
      <td></td>
      <td><code>team@gonnacrushya.com</code></td>
      <td>Email address to send results to</td>
    </tr>
    <tr>
      <td><code>scheduled_at</code></td>
      <td>datetime</td>
      <td></td>
      <td><code>2013-5-15 3:30:00</code></td>
      <td>Schedule the test to run sometime in the future</td>
    </tr>
    <tr>
      <td><code>name</code></td>
      <td>text</td>
      <td>First URL</td>
      <td>"GonnaCrushYa Homepage"</td>
      <td></td>
    </tr>
    <tr>
      <td><code>notes</code></td>
      <td>text</td>
      <td></td>
      <td>"Server: ec2-micro"</td>
      <td></td>
    </tr>
  </tbody>
</table>

<h2 id="url-options-a-hrefurl-options-idurl-options-classmarka">URL Options <a href="#url-options" id="url-options" class="mark">#</a></h2>

<p>Each member of the <code>urls</code> array is an object with the following attributes:</p>

<table class="table">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th>Example/Values</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr class="required">
      <td><code>*url</code></td>
      <td>string</td>
      <td>none</td>
      <td><code></code></td>
      <td>URL to test</td>
    </tr>
    <tr>
      <td><code>request_type</code></td>
      <td>string</td>
      <td>"GET"</td>
      <td>"GET" or "POST"</td>
      <td>Type of request</td>
    </tr>
    <tr>
      <td><code>credentials</code></td>
      <td>JSON</td>
      <td></td>
      <td><code>{"login": "admin", "password": "secret"}</code></td>
      <td>HTTP Basic Auth credentials</td>
    </tr>
    <tr>
      <td><code>headers</code></td>
      <td>JSON</td>
      <td></td>
      <td><code>{"Content-Type": "application/json"}</code></td>
      <td>Headers to send to this URL</td>
    </tr>
    <tr>
      <td><code>request_params</code></td>
      <td>JSON</td>
      <td></td>
      <td><code>{"name": "Steve"}</code></td>
      <td>Data to send in query string or POST body</td>
    </tr>
    <tr>
      <td><code>raw_post_body</code></td>
      <td>text</td>
      <td></td>
      <td><code>"name=Steve"</code></td>
      <td>Raw data to use as POST body in request</td>
    </tr>
    <tr>
      <td><code>payload_file_url</code></td>
      <td>URL</td>
      <td></td>
      <td><code>http://gonnacrushya.com/payload.json</code></td>
      <td>URL of a payload file</td>
    </tr>
    <tr>
      <td><code>variables</code></td>
      <td>JSON</td>
      <td></td>
      <td><code>[{"name": "token", "property": "X-Custom-Token", "source": "header"}, ...]</code></td>
      <td>Define variables whose values will be set to header value</td>
    </tr>
  </tbody>
</table>


        </div>
        <div class="col navigation">
          <ul>
  <li><a href="../../intro.html">Introduction</a></li>
  <li><a href="../../apps.html">Application</a></li>
    
  <li><a href="../../tests.html">Tests</a></li>
    <ul class="subnav">
  <li><a href="../get/tests.html">GET /v2/tests</a></li>
  <li><a class="current" href="tests.html">POST /v2/tests</a></li>
  <li><a href="../get/tests/test_id.html">GET /v2/tests/:test_id</a></li>
  <li><a href="../put/tests/:test_id/run.html">PUT /v2/tests/:test_id/run</a></li>
  <li><a href="../put/tests/:test_id/stop.html">PUT /v2/tests/:test_id/stop</a></li>
</ul>

  <li><a href="../../results.html">Results</a></li>
    
  <li><a href="../../servers.html">Servers</a></li>
    
</ul>

        </div>
      </div>
      <div class="site-footer">
        <div class="site-inner-content site-section">
          <div class="social-links">
            <a href="hhttps://www.facebook.com/loaderIo" class="social-link icon-facebook"></a>
            <a href="https://twitter.com/loaderio" class="social-link icon-twitter"></a>
            <a href="https://loader.io/contact-us" class="social-link icon-mail"></a>
          </div>
          <div class="footer-nav">
            <a href="https://loader.io/blog" class="footer-nav-link">Blog</a>
            <a href="https://loader.io/contact-us" class="footer-nav-link">Contact Us</a>
          </div>
          <div class="copyright site-section">Â©&nbsp;2016 SendGrid, Inc.</div>
        </div>
        <div class="bottom-banner">
          <a href="https://labs.sendgrid.com/get-involved/?utm_source=loader.io&utm_medium=product-page&utm_campaign=L3-LABS-11012&utm_content=L3-LABS-11012a"><img width="415" height="135" src="https://assets1.labs.sendgrid.com/mkt/labs_ldr_bottom_banner@2x.png"></a>
        </div>
      </div>
      <script type="text/javascript">var _kmq = _kmq || [];
_kmq.push(function() { KM.td = "https://trk.kissmetrics.com" })
var _kmk = _kmk || '06b8f6755484fcf424e58363c86f38e4415a5ac0'
function _kms(u){
  setTimeout(function(){
    var d = document, f = d.getElementsByTagName('script')[0],
    s = d.createElement('script');
    s.type = 'text/javascript'; s.async = true; s.src = u;
    f.parentNode.insertBefore(s, f);
  }, 1);
}
_kms('//i.kissmetrics.com/i.js');
_kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');
</script>

      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T69Z55"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-T69Z55');</script>


      <script src="https://embedcurl.com/embedcurl.js"></script>
    </body>
</html>
